<div id="profile-modal" class="modal">
    <div class="modal-content">
        <button id="profile-close-modal" class="close" aria-label="Закрыть">×</button>
        <header class="profile-header">
            <h2><span class="material-icons">account_circle</span> Мой профиль</h2>
        </header>

        <section id="profile-view" class="profile-section">
            <div class="profile-avatar">
                <img id="profile-avatar-img" src="/static/img/default-avatar.png" alt="Аватар" class="profile-avatar-img">
                <button id="profile-avatar-edit" class="btn btn-secondary avatar-edit-btn">
                    <span class="material-icons">edit</span>
                </button>
            </div>
            <div class="profile-info">
                <h3 id="profile-view-username"></h3>
                <p><strong>Email:</strong> <span id="profile-view-email"></span></p>
                <p><strong>Статус:</strong> <span id="profile-view-role"></span></p>
                <p><strong>Дата регистрации:</strong> <span id="profile-view-created"></span></p>
            </div>
            <div class="profile-actions">
                <button id="profile-edit-btn" class="btn btn-primary">
                    <span class="material-icons">edit</span> Редактировать
                </button>
                <button id="profile-password-btn" class="btn btn-secondary">
                    <span class="material-icons">lock</span> Сменить пароль
                </button>
            </div>
        </section>

        <form id="profile-edit-form" class="form profile-section" style="display: none;" enctype="multipart/form-data">
            <h3>Редактирование профиля</h3>
            <div class="input-group">
                <input type="email" id="profile-email" placeholder="Email" required>
                <span class="material-icons">email</span>
                <span class="tooltip">Корректный email</span>
            </div>
            <div class="input-group">
                <input type="text" id="profile-username" placeholder="Имя пользователя" required>
                <span class="material-icons">person</span>
                <span class="tooltip">От 3 до 50 символов</span>
            </div>
            <div class="input-group">
                <input type="password" id="profile-current-password" placeholder="Текущий пароль" required>
                <span class="material-icons">lock</span>
                <span class="tooltip">Введите текущий пароль для подтверждения</span>
            </div>
            <div class="input-group avatar-upload-group">
                <input type="file" id="profile-avatar-upload" accept="image/*" style="display: none;">
                <label for="profile-avatar-upload" class="btn btn-secondary">
                    <span class="material-icons">upload</span> Загрузить аватар
                </label>
                <span id="avatar-upload-status" class="avatar-status"></span>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <span class="material-icons">save</span> Сохранить
                </button>
                <button type="button" id="profile-cancel-btn" class="btn btn-danger">
                    <span class="material-icons">close</span> Отмена
                </button>
            </div>
        </form>

        <form id="profile-password-form" class="form profile-section" style="display: none;">
            <h3>Смена пароля</h3>
            <div class="input-group">
                <input type="password" id="profile-old-password" placeholder="Старый пароль" required>
                <span class="material-icons">lock</span>
                <span class="tooltip">Введите текущий пароль</span>
            </div>
            <div class="input-group">
                <input type="password" id="profile-new-password" placeholder="Новый пароль" required>
                <span class="material-icons">lock_open</span>
                <span class="tooltip">Минимум 8 символов</span>
            </div>
            <div class="input-group">
                <input type="password" id="profile-confirm-password" placeholder="Подтвердите пароль" required>
                <span class="material-icons">check_circle</span>
                <span class="tooltip">Повторите новый пароль</span>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <span class="material-icons">save</span> Обновить пароль
                </button>
                <button type="button" id="profile-password-cancel-btn" class="btn btn-danger">
                    <span class="material-icons">close</span> Отмена
                </button>
            </div>
        </form>

        <div id="profile-message" class="message"></div>
    </div>
</div>